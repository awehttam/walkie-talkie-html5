# WebSocket Server Configuration
WEBSOCKET_HOST=localhost
WEBSOCKET_PORT=8080

# Client WebSocket URL (can be different from server if behind proxy)
# Use wss:// for secure connections through proxy/load balancer
# Use ws:// for local development
WEBSOCKET_URL=ws://localhost:8080

# Message History Configuration
# Maximum number of messages to keep per channel
MESSAGE_HISTORY_MAX_COUNT=10

# Maximum message age in seconds (default: 300 = 5 minutes)
# Examples: 60 = 1 minute, 300 = 5 minutes, 3600 = 1 hour, 86400 = 24 hours
MESSAGE_HISTORY_MAX_AGE=300

# Trusted Proxy Configuration
# Comma-separated list of trusted proxy IP addresses
# Only connections from these IPs will use X-Forwarded-For header for client IP detection
# Leave empty or comment out to ignore X-Forwarded-For entirely
# Examples: TRUSTED_PROXIES=127.0.0.1,::1
#           TRUSTED_PROXIES=10.0.0.1,172.16.0.1
# TRUSTED_PROXIES=

# Optional: Debug Mode
# DEBUG=true

# WebAuthn/Passkeys Configuration
WEBAUTHN_RP_NAME="Walkie Talkie"
WEBAUTHN_RP_ID=localhost
WEBAUTHN_ORIGIN=http://localhost:3000
WEBAUTHN_TIMEOUT=60000

# JWT Configuration
# IMPORTANT: Generate a strong secret with: openssl rand -base64 64
# Never commit the actual secret to version control!
JWT_SECRET=your-secret-here-generate-with-openssl
JWT_ACCESS_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800

# Authentication Settings
ANONYMOUS_MODE_ENABLED=true
REGISTRATION_ENABLED=true

# Screen Name Validation
SCREEN_NAME_MIN_LENGTH=2
SCREEN_NAME_MAX_LENGTH=20
SCREEN_NAME_PATTERN=^[a-zA-Z0-9_-]+$

# Audio Codec Configuration
# Primary codec for new transmissions: 'pcm16' (uncompressed) or 'opus' (compressed)
AUDIO_CODEC_PRIMARY=pcm16

# Fallback codec if primary is not supported by client
AUDIO_CODEC_FALLBACK=pcm16

# Opus Codec Settings (only used when AUDIO_CODEC_PRIMARY=opus)
# Bitrate in kbps: 16 (low bandwidth), 24 (recommended), 32 (high quality), 64 (maximum)
OPUS_BITRATE_KBPS=24

# Frame duration in milliseconds: 10 (ultra-low latency), 20 (recommended), 40, 60
OPUS_FRAME_DURATION_MS=20

# Application mode: voip (optimized for voice), audio (music), lowdelay (real-time)
OPUS_APPLICATION=voip

# Encoder complexity: 0-10 (higher = better quality but more CPU)
# Recommended: 5 for mobile, 8 for desktop
OPUS_COMPLEXITY=5